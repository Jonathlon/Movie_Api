<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>myFlix</title>
    <style>
      td,
      th {
        border: 1px solid;
        padding: 5px;
      }
    </style>
  </head>

  <body>
    <div>
      <h1>myFlix Documentation</h1>
      <h2>Objective</h2>
      <p>
        To build the server-side component of a “movies” web application. The
        web application will provide users with access to information about
        different movies, directors, and genres. Users will be able to sign up,
        update their personal information, and create a list of their favorite
        movies.
      </p>

      <h2>MyFlix App Features</h2>
      <ul>
        <li>Return a list of ALL movies to the user</li>
        <li>
          Return data (description, genre, director, image URL, whether it's
          featured or not) about a single movie by title to the user
        </li>
        <li>
          Return data about a genre (description) by name/title (eg."Thriller")
        </li>
        <li>
          Return data about a director (bio, birth year, death year) by name
        </li>
        <li>Allow new users to register</li>
        <li>
          Allow users to update their user info (username, password, email, date
          of birth)
        </li>
        <li>Allow users to add a movie to their list of favorites</li>
        <li>Allow users to remove a movie from their list of favorites</li>
        <li>Allow existing users to deregister</li>
      </ul>
    </div>

    <h2>API Endpoint Documentation</h2>

    <table class="table">
      <thead>
        <tr>
          <th>Business Logic</th>
          <th>URL</th>
          <th>HTTP Method</th>
          <th>Request Body Data Format</th>
          <th>Response Body Data Format</th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>/</td>
          <td>POST</td>
          <td>None</td>
          <td>Allows users to login with username and password</td>
          <td>Welcome to my Movie app!</td>
        </tr>

        <tr>
          <td>Returns a list of all movies</td>
          <td>/movies</td>
          <td>GET</td>
          <td>None</td>
          <td>An array of JSON objects holding data about all movies</td>
        </tr>

        <tr>
          <td>Returns data about single movie by title</td>
          <td>/movies/:title</td>
          <td>GET</td>
          <td>/movies/The%20Dark%20Knight</td>
          <td>{
            "Genre": {
                "Name": "Action",
                "Description": "Action film is a film genre in which the protagonist is thrust into a series of events that typically involve violence and physical feats."
            },
            "Director": {
                "Name": "Christopher Nolan",
                "Bio": "Christopher Edward Nolan CBE (born 30 July 1970) is a British-American filmmaker. Known for his Hollywood blockbusters with complex storytelling, Nolan is considered a leading filmmaker of the 21st century. His films have grossed $5 billion worldwide.",
                "Birth": "1970",
                "Death": "NA"
            },
            "Actors": [],
            "_id": "641c35be3af3c91700f94496",
            "Title": "The Dark Knight",
            "Description": "When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice.",
            "ImagePath": "https://m.media-amazon.com/images/W/IMAGERENDERING_521856-T1/images/I/91ebheNmoUL._RI_.jpg",
            "Featured": false
        }</td>
        </tr>

        <tr>
          <td>Returns data about a genre by title</td>
          <td>/movies/genres/:GenreName</td>
          <td>GET</td>
          <td>/movies/genres/Action</td>
          <td>{
            "Name": "Action",
            "Description": "Action film is a film genre in which the protagonist is thrust into a series of events that typically involve violence and physical feats."
        }
      </td>
        </tr>

        <tr>
          <td>Returns data about a director by name</td>
          <td>/movies/directors/:DirectorName</td>
          <td>GET</td>
          <td>movies/directors/Christopher%20Nolan</td>
          <td>{
            "Name": "Christopher Nolan",
            "Bio": "Christopher Edward Nolan CBE (born 30 July 1970) is a British-American filmmaker. Known for his Hollywood blockbusters with complex storytelling, Nolan is considered a leading filmmaker of the 21st century. His films have grossed $5 billion worldwide.",
            "Birth": "1970",
            "Death": "NA"
        }</td>
        </tr>

         <tr>
          <td>Allows new users to register</td>
          <td>/users</td>
          <td>POST</td>
          <td>
            A JSON object holding data about the user that was added, structured
            like: { "Username" : 
                    "Password": 
                    "Email": 
                    "Birthday": 
                    "Favorite Movie" : 
                  }
          </td>
          <td>
            A JSON object holding data about the user that was added, structured
            like:   {
              "_id": "64231d2e9692fddd9062d3cc",
              "Username": "Newuser14",
              "Password": "newpassord",
              "Email": "new@email.com",
              "Birthday": "1990-12-04T00:00:00.000Z",
              "FavoriteMovies": [
                
              ],
              "__v": 0
            }
          </td>
        </tr>

        <tr>
          <td>Allows users to update their user info</td>
          <td>/users/:Username</td>
          <td>PUT</td>
          <td>  
                   { "Username" : 
                    "Password": 
                    "Email": 
                    "Birthday": 
                    "Favorite Movie" : 
                  }
          </td>
          <td>{
            "_id": "641c5f8a3af3c91700f944a3",
            "Password": "Newpassword12",
            "Birthday": "1984-04-10T00:00:00.000Z",
            "FavoriteMovies": [
                "641c4ba73af3c91700f94499"
            ],
            "Username": "DK",
            "Email": "Newemail@email.com"
        }</td>
        </tr>

        <tr>
          <td>Allows users to add a movie to their favorites</td>
          <td>/users/:Username/movies/:MovieID</td>
          <td>POST</td>
          <td>users/DK/movies/641c35be3af3c91700f94496</td>
          <td>
            {
              "_id": "641c5f8a3af3c91700f944a3",
              "Password": "Newpassword12",
              "Birthday": "1984-04-10T00:00:00.000Z",
              "FavoriteMovies": [
                  "641c4ba73af3c91700f94499",
                  "641c35be3af3c91700f94496"
              ],
              "Username": "DK",
              "Email": "Newemail@email.com"
          }
          </td>
        </tr>

        <tr>
          <td>Allows users to remove a movie from their favorites</td>
          <td>/users/:Username/movies/:MovieID</td>
          <td>DELETE</td>
          <td>users/DK/movies/641c35be3af3c91700f94496</td>
          <td>
            {
              "_id": "641c5f8a3af3c91700f944a3",
              "Password": "Newpassword12",
              "Birthday": "1984-04-10T00:00:00.000Z",
              "FavoriteMovies": [
                  "641c4ba73af3c91700f94499"
              ],
              "Username": "DK",
              "Email": "Newemail@email.com"
          }
          </td>
        </tr>

        <tr>
          <td>Allows existing users to deregister</td>
          <td>/users/:Username</td>
          <td>DELETE</td>
          <td>users/Test1</td>
          <td>
            A text message indicating whether the user has successfully
            deregistered - "Test1 was deleted."
          </td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
